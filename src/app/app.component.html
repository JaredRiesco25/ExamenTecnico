<app-navbar></app-navbar>
<div class="employee-page">
  <div class="button-and-search">
    <div class="search-container">
      <mat-form-field>
        <input matInput placeholder="Buscar" [(ngModel)]="searchTerm" (ngModelChange)="applyFilter()">
      </mat-form-field>
    </div>
    <button mat-raised-button (click)="openRegistrationModal()" style="margin-left: auto;">Registrar Empleado</button>
  </div>
  <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource">
    
        <ng-container matColumnDef="Id">
          <th mat-header-cell *matHeaderCellDef style="width: 5%;"> Id </th>
          <td mat-cell *matCellDef="let item of dataSource"> {{item.Id}} </td>
        </ng-container>
    
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef style="width: 20%;"> Nombre </th>
          <td mat-cell *matCellDef="let item of dataSource"> {{item.Nombre}} </td>
        </ng-container>
    
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef style="width: 15%;"> Fecha de Nacimiento </th>
          <td mat-cell *matCellDef="let item of dataSource"> {{item.FechaNacimiento}} </td>
        </ng-container>
    
        <ng-container matColumnDef="age">
          <th mat-header-cell *matHeaderCellDef style="width: 10%;"> Edad </th>
          <td mat-cell *matCellDef="let item of dataSource"> {{item.Edad}} </td>
        </ng-container>
  
        <ng-container matColumnDef="position">
          <th mat-header-cell *matHeaderCellDef style="width: 15%;"> Posici√≥n </th>
          <td mat-cell *matCellDef="let item of dataSource"> {{item.Posicion}} </td>
        </ng-container>
  
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef> Estatus </th>
          <td mat-cell *matCellDef="let item of dataSource"> {{item.Estatus ? 'Activo' : 'Inactivo'}} </td>
        </ng-container>
  
        <ng-container matColumnDef="buttons">
          <th mat-header-cell *matHeaderCellDef> Acciones </th>
          <td mat-cell *matCellDef="let item of dataSource"> 
              <div style="width: 42%; display: flex; justify-content: space-between;">
                  <button mat-mini-fab style="background-color: rgb(65, 177, 115);" matTooltip="Editar Usuario"(click)="openEditModal(item)" [disabled]="item.Estatus" ><mat-icon>edit</mat-icon></button>
                  <button (click)="deleteEmployee(item.Id)" mat-mini-fab style="background-color: rgb(231, 2, 2);" matTooltip="Eliminar Usuario"><mat-icon>delete</mat-icon></button>
                  <button mat-mini-fab style="background-color: rgb(14, 158, 241);" matTooltip="Cambiar a Usuario Inactivo" (click)="changeUserStatus(item)" [disabled]="!item.Estatus" ><mat-icon>more_vert</mat-icon></button>
              </div>
          </td>
      </ng-container>
    
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    
      <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                     showFirstLastButtons
                     aria-label="Select page of periodic elements">
      </mat-paginator>
    </div>
  </div>
